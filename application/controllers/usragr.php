<?phpclass usragr extends CI_Controller{    public function index()    {        $this->load->model('usragr_model');        $data['title'] = "COPY REQUEST/USE AGREEMENT FORM";        $date = date_default_timezone_set('US/Eastern');        $this->load->view('initiateUseAgreement', $data);    }		  public function useagreement()    {        $this->load->model('usragr_model');        $data['title'] = "COPY REQUEST/USE AGREEMENT FORM";        $date = date_default_timezone_set('US/Eastern');        $this->load->view('useAgreement', $data);    }    /*	public function admin() {            $this -> load -> model('rsrq_model');            $this -> load -> view('admin', $data);        }*/    /**     *     */    // Function for adding new researcher into the system    public function insertNewResearcher()    {        date_default_timezone_set('US/Eastern');        $date = date("m/d/Y");        $data = array(            'userName' => $_POST['userName'],            'emailId' => $_POST['emailId'],            'gender' => $_POST['gender'],            'age' => $_POST['age'],            'phoneNumber' => $_POST['phoneNumber'],            'address' => $_POST['address'],            'zipCode' => $_POST['zipCode'],            'InstAffilliation' => $_POST['instAffil'],            'date' => $date        );        $this->load->model('usragr_model');        $result = $this->usragr_model->insert_researcher($data, 'researcher');        $this->load->view('success_view', $result);        //echo $result;    }// function to fetch the researcher with userId    public function getResearcher($userId)    {        /*WORKING*/        $this->load->model('usragr_model');        $userId = $this->input->get('userId');        $result = $this->usragr_model->getresearcher($userId);        echo $result;    }    //Function to update researcher.    public function updateResearcher()    {        $userId = 39;        //  $id= $this->input->post($researcherId);        date_default_timezone_set('US/Eastern');        $date = date("m/d/Y");        /*$data = array(            'userName' => $_POST['userName'],            'gender' => $_POST['gender'],            'age' => $_POST['age'],            'address' => $_POST['address'],            'emailId' => $_POST['emailId'],            'phoneNumer' => $_POST['phoneNumber'],            'zipCode' => $_POST['zipCode'],            'InstAffilliation' => $_POST['instAffil'],            'date' => $date        );*/        $this->load->model('usragr_model');        //updating researcher information        /*WORKING*/        $this->usragr_model->update_researcher($_POST['userName'], $_POST['gender'], $_POST['age'], $_POST['address'],            $_POST['emailId'], $_POST['phoneNumber'], $_POST['zipCode'], $_POST['instAffil'],$userId);        $data = array(            'requestName'=> $_POST['requestName'],            'requestDescription' => $_POST['requestDescription'],            'boxNumber' => $_POST['boxNumber'],            'itemNumber'=> $_POST['itemNumber'],            'fileType'=> $_POST['fileType']            /*'imageResolution'=> $_POST['imageResolution'],            'fileFormat'=> $_POST['fileFormat'],            'audOrVidFileFormat' => $_POST['audOrVidFileFormat'],            'userId' => $userId */        );        $imageResolution = '1220*800';        $fileFormat = 'text';        $audOrVidFileFormat = 'mp4';        for($i=0;$i<= sizeof($data);$i++){            //inserting use agreement information            /*NOT WORKING:Error in PDO: Problem with Query*/            $result = $this -> usragr_model -> insertUseAgreementInformation($_POST['requestName'],$_POST['requestDescription'],$_POST['boxNumber'],$_POST['itemNumber'],                $_POST['fileType'],$imageResolution,$fileFormat,$audOrVidFileFormat,$userId);        }        echo $result;    }}?>